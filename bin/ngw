#!/usr/bin/env node
switch (process.argv[2]) {
    case '--set-up':
        require('../lib/set-up');
        break;
    default:
        
        const execSync = require('child_process').execSync;
        const entryPointPath = require.resolve('../lib/index');
        const tsNodePath = require.resolve('ts-node/dist/bin');
        const commandArgs = process.argv.slice(2).join(" ");

        const command = process.platform === "win32"
            ? `node "${tsNodePath}" "-O" "{\"module\":\"commonjs\"} "${entryPointPath}" ${commandArgs}"`
            : `node ${tsNodePath} -O '{"module":"commonjs"}' ${entryPointPath} ${commandArgs}`

        execSync(command, {stdio: 'inherit'});

}
